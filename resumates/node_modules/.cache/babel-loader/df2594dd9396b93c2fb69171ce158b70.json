{"ast":null,"code":"var _jsxFileName = \"/Users/MacbookAir-January2015/Desktop/Resumates/MERN_ResumePeeker/resumates/src/components/UploadForm/UploadForm.jsx\";\nimport * as React from 'react';\nimport { Component } from 'react';\nimport { InputLabel, MenuItem, FormControl, Select, Box } from \"@material-ui/core\";\nimport { Button, Fab } from \"@material-ui/core\";\nimport { Link } from 'react-router-dom';\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class UploadForm extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      title: \"\",\n      level: \"\",\n      user: null\n    };\n\n    this.setUserInState = incomingUserData => {\n      this.setState({\n        user: incomingUserData\n      });\n    };\n\n    this.getResumes = async () => {\n      await fetch(\"/api/resumes\").then(res => res.json()).then(data => this.setState({\n        resumes: data\n      }));\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = async () => {\n      const formData = new FormData();\n      formData.append(\"title\", this.state.title);\n      formData.append(\"level\", this.state.level);\n      formData.append(\"file\", this.state.file);\n      formData.append(\"user\", this.state.user);\n      let jwt = localStorage.getItem('token');\n      let body = {\n        title: this.state.title,\n        level: this.state.level\n      };\n      let options = {\n        method: \"POST\",\n        headers: {\n          'Authorization': 'Bearer ' + jwt\n        },\n        body: formData\n      };\n      await fetch(\"/api/resumes\", options).then(res => res.json()).then(data => {\n        this.getResumes();\n        this.setState({\n          title: \"\",\n          level: \"\"\n        });\n      });\n    };\n\n    this.handleChangefile = e => {\n      this.setState({\n        [e.target.name]: e.target.files[0]\n      });\n    };\n\n    this.handleEdit = async id => {\n      try {\n        let fetchResponse = await fetch(\"/api/resumes/update/\" + id, {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        let serverResponse = await fetchResponse.json();\n        console.log(\"Success:\", serverResponse);\n        this.getResumes();\n      } catch (err) {\n        console.error(\"Error:\", err);\n      }\n    };\n\n    this.handleDelete = async id => {\n      try {\n        let fetchResponse = await fetch(\"/api/resumes/delete/\" + id, {\n          method: \"DELETE\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        });\n        let serverResponse = await fetchResponse.json();\n        console.log(\"Success:\", serverResponse);\n        this.getResumes();\n      } catch (err) {\n        console.error(\"Error:\", err);\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"UpHeader\",\n        children: \"Tell us more about your resume\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"upload-photo\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            display: \"none\"\n          },\n          id: \"upload-photo\",\n          name: \"upload-photo\",\n          type: \"file\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Fab, {\n          color: \"secondary\",\n          size: \"small\",\n          component: \"span\",\n          \"aria-label\": \"add\",\n          variant: \"extended\",\n          children: [/*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 11\n          }, this), \" Upload Resume\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        className: \"Box\",\n        sx: {\n          maxWidth: 300\n        },\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"file\",\n            onChange: this.handleChangefile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"demo-simple-select-label\",\n            children: \"Job Title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"demo-simple-select-label\",\n            id: \"demo-simple-select\",\n            value: this.state.title,\n            label: \"Job Title\",\n            onChange: this.handleChange,\n            name: \"title\",\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Software Engineer\",\n              children: \"Software Engineer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Data Scientist\",\n              children: \"Data Scientist\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Web Developer\",\n              children: \"Web Developer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Software Engineer\",\n              children: \"Software Engineer\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Techincal Recruiter\",\n              children: \"Techincal Recruiter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"IT Support Technician\",\n              children: \"IT Support Technician\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        className: \"Box\",\n        sx: {\n          maxWidth: 300\n        },\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          fullWidth: true,\n          children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n            id: \"demo-simple-select-label\",\n            children: \"Experience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            labelId: \"demo-simple-select-label\",\n            id: \"demo-simple-select\",\n            value: this.state.experience,\n            label: \"Experience\",\n            onChange: this.handleChange,\n            name: \"level\",\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Junior\",\n              children: \"Junior\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Intermediate\",\n              children: \"Intermediate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Senior\",\n              children: \"Senior\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        id: \"Button\",\n        variant: \"contained\",\n        onClick: this.handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          id: \"link\",\n          className: \"link\",\n          to: \"/Profile\",\n          children: \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/MacbookAir-January2015/Desktop/Resumates/MERN_ResumePeeker/resumates/src/components/UploadForm/UploadForm.jsx"],"names":["React","Component","InputLabel","MenuItem","FormControl","Select","Box","Button","Fab","Link","AddIcon","UploadForm","state","title","level","user","setUserInState","incomingUserData","setState","getResumes","fetch","then","res","json","data","resumes","handleChange","e","target","name","value","handleSubmit","formData","FormData","append","file","jwt","localStorage","getItem","body","options","method","headers","handleChangefile","files","handleEdit","id","fetchResponse","serverResponse","console","log","err","error","handleDelete","render","display","maxWidth","experience"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { Component } from 'react';\nimport { InputLabel, MenuItem, FormControl, Select, Box } from \"@material-ui/core\"; \nimport { Button, Fab } from \"@material-ui/core\"; \nimport { Link } from 'react-router-dom'\nimport AddIcon from \"@material-ui/icons/Add\";\n\nexport default class UploadForm extends Component {\n  state = {\n    title: \"\",\n    level: \"\",\n    user: null\n  };\n\n  setUserInState = (incomingUserData) => {\n    this.setState({ user: incomingUserData})\n  }\n\n  getResumes = async () => {\n    await fetch(\"/api/resumes\").then((res) => res.json()).then(data => this.setState({resumes: data}))\n  }\n\nhandleChange = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n}\n\nhandleSubmit = async () => {\n    const formData = new FormData();\n  formData.append(\"title\", this.state.title);\n  formData.append(\"level\", this.state.level);\n  formData.append(\"file\", this.state.file);\n  formData.append(\"user\", this.state.user);\n  \n  let jwt = localStorage.getItem('token')\n  let body = { \n    title: this.state.title, \n    level: this.state.level, \n  }\n  let options = {\n   method: \"POST\",\n    headers: {\n      'Authorization': 'Bearer ' + jwt\n    },\n    body: formData,\n  };\n  await fetch(\"/api/resumes\", options)\n    .then(res => res.json())\n    .then(data => {\n      this.getResumes();\n      this.setState({ \n        title: \"\",\n        level: \"\",\n      })\n    })\n}\nhandleChangefile = (e) => {\n    this.setState({ [e.target.name]: e.target.files[0] });\n}\nhandleEdit = async (id) => {\n    try {\n      let fetchResponse = await fetch(\"/api/resumes/update/\"+id, {\n        method: \"PUT\",\n        headers: {\"Content-Type\": \"application/json\"},\n        }) \n      let serverResponse = await fetchResponse.json() \n      console.log(\"Success:\", serverResponse)  \n      this.getResumes()\n    } catch (err) {\n      console.error(\"Error:\", err)\n    }\n}\n\nhandleDelete = async (id) => {\n         try {\n      let fetchResponse = await fetch(\"/api/resumes/delete/\"+id, {\n        method: \"DELETE\",\n        headers: {\"Content-Type\": \"application/json\"},\n        }) \n      let serverResponse = await fetchResponse.json() \n      console.log(\"Success:\", serverResponse)  \n      this.getResumes()\n    } catch (err) {\n      console.error(\"Error:\", err)\n    }\n}\n\n  render() {\n    return(\n      <div> \n      <h3 className='UpHeader'>Tell us more about your resume</h3>\n      <label htmlFor=\"upload-photo\">\n        <input style={{ display: \"none\" }} id=\"upload-photo\" name=\"upload-photo\" type=\"file\" />\n        <Fab color=\"secondary\" size=\"small\" component=\"span\" aria-label=\"add\" variant=\"extended\">\n          <AddIcon /> Upload Resume\n        </Fab>\n        <br />\n        <br />\n      </label>\n      <Box className='Box' sx={{ maxWidth: 300 }}>\n        <FormControl fullWidth>\n\n\n\n\n\n\n\n\n          <input type=\"file\" name=\"file\" onChange={this.handleChangefile}/>\n\n          <InputLabel id=\"demo-simple-select-label\">Job Title</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-label\"\n            id=\"demo-simple-select\"\n            value={this.state.title}\n            label=\"Job Title\"\n            onChange={this.handleChange}\n            name=\"title\"\n            >\n            <MenuItem value={\"Software Engineer\"}>Software Engineer</MenuItem>\n            <MenuItem value={\"Data Scientist\"}>Data Scientist</MenuItem>\n            <MenuItem value={\"Web Developer\"}>Web Developer</MenuItem>\n            <MenuItem value={\"Software Engineer\"}>Software Engineer</MenuItem>\n            <MenuItem value={\"Techincal Recruiter\"}>Techincal Recruiter</MenuItem>\n            <MenuItem value={\"IT Support Technician\"}>IT Support Technician</MenuItem>\n          </Select>\n        </FormControl>\n      </Box>\n      <Box className='Box' sx={{ maxWidth: 300 }}>\n        <FormControl fullWidth>\n          <InputLabel id=\"demo-simple-select-label\">Experience</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-label\"\n            id=\"demo-simple-select\"\n            value={this.state.experience}\n            label=\"Experience\"\n            onChange={this.handleChange}\n            name=\"level\"\n            >\n            <MenuItem value={\"Junior\"}>Junior</MenuItem>\n            <MenuItem value={\"Intermediate\"}>Intermediate</MenuItem>\n            <MenuItem value={\"Senior\"}>Senior</MenuItem>\n          </Select>\n        </FormControl>\n      </Box>\n      <br/>\n    <Button id='Button' variant=\"contained\" onClick={this.handleSubmit}>\n      <Link id='link' className='link' to='/Profile'>Upload</Link>\n    </Button>\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}