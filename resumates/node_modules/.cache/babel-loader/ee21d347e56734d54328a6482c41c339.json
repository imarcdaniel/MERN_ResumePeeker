{"ast":null,"code":"import _regeneratorRuntime from\"/home/ericmbc/GA/Resumates/MERN_ResumePeeker/resumates/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ericmbc/GA/Resumates/MERN_ResumePeeker/resumates/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/ericmbc/GA/Resumates/MERN_ResumePeeker/resumates/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Link}from'react-router-dom';import{useLocation}from'react-router-dom';import{Input,MenuItem,FormControl,Select,Box}from\"@material-ui/core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CommentForm=function CommentForm(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),commentsData=_useState2[0],setCommentsData=_useState2[1];var handleChange=function handleChange(e){setCommentsData({text:e.target.value});console.log(commentsData);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var jwt,body,options;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:jwt=localStorage.getItem('token');body={text:commentsData.text};options={method:\"POST\",headers:{\"Content-Type\":\"application/json\",'Authorization':'Bearer '+jwt},body:JSON.stringify(body)};_context.next=5;return fetch(\"/api/comments\",options).then(function(res){return res.json();}).then(function(data){console.log(\"Success:\",data);}).catch(function(error){console.error(\"Error:\",error);});case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Comment Form\"}),/*#__PURE__*/_jsx(Box,{className:\"Box\",sx:{maxWidth:300},children:/*#__PURE__*/_jsx(FormControl,{fullWidth:true,children:/*#__PURE__*/_jsx(Input,{multiline:true,rows:4,onChange:handleChange})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Submit\"})]});// return (\n//     <form\n//     onSubmit={(e) => {\n//         e.preventDefault();\n//         handleSubmit();\n//     }}\n//     >\n//         <textarea\n//             name=\"text\"\n//             cols=\"30\"\n//             rows=\"2\"\n//             placeholder=\"Comment\"\n//     //      value={text}\n//     //      onChange={(e) => setText(e.target.value)}\n//             required\n//         ></textarea>\n//         <button onClick={this.handleSubmit}>Upload</button>\n//   </form> \n//   );  \n};export default CommentForm;","map":{"version":3,"sources":["/home/ericmbc/GA/Resumates/MERN_ResumePeeker/resumates/src/components/CommentForm/CommentForm.jsx"],"names":["React","useState","Link","useLocation","Input","MenuItem","FormControl","Select","Box","CommentForm","commentsData","setCommentsData","handleChange","e","text","target","value","console","log","handleSubmit","jwt","localStorage","getItem","body","options","method","headers","JSON","stringify","fetch","then","res","json","data","catch","error","maxWidth"],"mappings":"wZAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,KAAT,CAAgBC,QAAhB,CAA0BC,WAA1B,CAAuCC,MAAvC,CAA+CC,GAA/C,KAA0D,mBAA1D,C,wFAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,cAAyCR,QAAQ,CAAC,EAAD,CAAjD,wCAAQS,YAAR,eAAsBC,eAAtB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxBF,eAAe,CAAC,CAAEG,IAAI,CAAED,CAAC,CAACE,MAAF,CAASC,KAAjB,CAAD,CAAf,CACAC,OAAO,CAACC,GAAR,CAAYR,YAAZ,EACH,CAHD,CAKA,GAAMS,CAAAA,YAAY,0FAAG,wJACbC,GADa,CACPC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADO,CAEbC,IAFa,CAEN,CACTT,IAAI,CAAEJ,YAAY,CAACI,IADV,CAFM,CAKbU,OALa,CAKH,CACZC,MAAM,CAAE,MADI,CAEZC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,gBAAiB,UAAYN,GAFtB,CAFG,CAMZG,IAAI,CAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf,CANM,CALG,uBAaXM,CAAAA,KAAK,CAAC,eAAD,CAAkBL,OAAlB,CAAL,CACDM,IADC,CACI,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADP,EAEDF,IAFC,CAEI,SAAAG,IAAI,CAAI,CAAChB,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBe,IAAxB,EAA8B,CAF3C,EAGDC,KAHC,CAGK,SAAAC,KAAK,CAAI,CAAClB,OAAO,CAACkB,KAAR,CAAc,QAAd,CAAwBA,KAAxB,EAA+B,CAH9C,CAbW,uDAAH,kBAAZhB,CAAAA,YAAY,0CAAlB,CAkBE,mBACE,oCACA,oCADA,cAEA,KAAC,GAAD,EAAK,SAAS,CAAC,KAAf,CAAqB,EAAE,CAAE,CAAEiB,QAAQ,CAAE,GAAZ,CAAzB,uBACE,KAAC,WAAD,EAAa,SAAS,KAAtB,uBACE,KAAC,KAAD,EACI,SAAS,CAAI,IADjB,CAEI,IAAI,CAAK,CAFb,CAGI,QAAQ,CAAExB,YAHd,EADF,EADF,EAFA,cAWA,aAXA,cAYA,eAAQ,OAAO,CAAEO,YAAjB,oBAZA,GADF,CAgBF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH,CA7DD,CA+DA,cAAeV,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useLocation } from 'react-router-dom'\nimport { Input, MenuItem, FormControl, Select, Box } from \"@material-ui/core\";\n\n\nconst CommentForm = () => {\n    const [ commentsData, setCommentsData] = useState({})\n\n    const handleChange = (e) => {\n        setCommentsData({ text: e.target.value });\n        console.log(commentsData)\n    }\n\n    const handleSubmit = async () => {\n        let jwt = localStorage.getItem('token')\n        let body = { \n          text: commentsData.text , \n        }\n        let options = {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            'Authorization': 'Bearer ' + jwt\n          },\n          body: JSON.stringify(body)\n        };\n        await fetch(\"/api/comments\", options)\n            .then(res => res.json())\n            .then(data => {console.log(\"Success:\", data)})\n            .catch(error => {console.error(\"Error:\", error)})\n      }\n      return(\n        <div>\n        <h3>Comment Form</h3>\n        <Box className='Box' sx={{ maxWidth: 300 }}>\n          <FormControl fullWidth>\n            <Input\n                multiline= { true }\n                rows = { 4 }\n                onChange={handleChange}\n            ></Input>\n          </FormControl>\n        </Box>\n        <br/>\n        <button onClick={handleSubmit}>Submit</button>\n        </div>\n      )\n    // return (\n    //     <form\n    //     onSubmit={(e) => {\n    //         e.preventDefault();\n    //         handleSubmit();\n    //     }}\n    //     >\n    //         <textarea\n    //             name=\"text\"\n    //             cols=\"30\"\n    //             rows=\"2\"\n    //             placeholder=\"Comment\"\n    //     //      value={text}\n    //     //      onChange={(e) => setText(e.target.value)}\n    //             required\n    //         ></textarea>\n    //         <button onClick={this.handleSubmit}>Upload</button>\n    //   </form> \n    //   );  \n}\n\nexport default CommentForm;"]},"metadata":{},"sourceType":"module"}